<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/vendor/normalize.css">
    <link rel="stylesheet" href="styles/icons.css">
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/layout.css">
    <link rel="stylesheet" href="styles/modules.css">
    <link rel="icon" type="image/png" href="assets/favicon.png"> 
    <title>The Book List</title>
</head>
<body>

    <header>
        <a href="/home"><h1>The Book List</h1></a>
        <div class="icon-hamburger"></div>
    </header>

    <main>
        <nav>
            <a href="/home">View My Books</a>
            <a href="/books/search">Find More Books</a>
            <a href="/books/new">Add A New Book</a>
            <a href="/login">Admin Login</a>
        </nav>
        
        <section class="content">
            <section id="booklist" class="view">
                <h2>My Books</h2>
                <div id="books"></div>
            </section>

            <section id="book-new-view" class="view">
                <h2>Add a New Book</h2>                
                <form id="add-book">
                    <label for="book-title">
                        <input type="text" id="book-title" name="title" placeholder="title" required>
                    </label>
                    <label for="book-author">
                        <input type="text" id="book-author" name="author" placeholder="author" required>
                    </label>
                    <label for="book-isbn">
                        <input type="number" id="book-isbn" name="isbn" placeholder="isbn #" required>
                    </label>
                    <label for="book-img-url">
                        <input type="text" id="book-img-url" name="img-url" placeholder="image url" required>
                    </label>
                    <textarea id="description" rows="8" placeholder="description..." name="description" required></textarea>
                    <button type="submit">submit</button>            
                </form>
            </section>

            <section id="book-detail-view" class="view">
                <div id="book-details"></div>
                <div id="admin-actions">
                    <button id="update-button">update</button>
                    <button id="delete-button">delete</button>
                </div>
            </section>

            <section id="admin-view" class="view">
                <form id="admin-form">
                    <label for="passphrase">
                            <input type="text" id="passphrase" placeholder="enter the passphrase" name="passphrase" required>
                    </label>
                    <button type="submit">submit</button>            
                </form>
                <h4 id="logged-in">Admin Powers Enabled</h4>
            </section>

            <section id="search-view" class="view">
                <h2>Find More Books</h2>
                <form id="search-form">
                    <label for="title-input">
                            <input type="text" id="title-input" placeholder="title" name="title">
                    </label>
                    <label for="author-input">
                            <input type="text" id="author-input" placeholder="author" name="author">
                    </label>
                    <label for="isbn-input">
                            <input type="number" id="isbn-input" placeholder="isbn #" name="isbn">
                    </label>
                    <button type="submit">search</button>            
                </form>
                <h4 id="search-error">nothing found</h4>
                <div id="search-results"></div>
            </section>
        </section>
    </main>

    <footer><a href="https://github.com/RM-KH-book-list" target="_blank" class="icon-github"></a></footer>

    <script id="book-template" type="text/handlebars">
        <article class="book-listing" data-id="{{book_id}}">
                <div class="book-headers">
                    <div class="icon-plus" data-isbn="{{isbn}}"></div>
                    <h3>{{title}}</h3>
                    <h4>{{author}}</h4>
                </div>
                <img src="{{image_url}}" alt="cover image">
        </article>
    </script>

    <script id="book-detail-template" type="text/handlebars">
        <article>
            <h2>{{title}}</h2>
            <h4>{{author}}</h4>
            <img src="{{image_url}}" alt="cover image">
            <p>{{description}}</p>
            <h4>isbn: {{isbn}}</h4>
        </article>
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.11/handlebars.min.js"></script>
    <script src="https://cdn.rawgit.com/visionmedia/page.js/master/page.js"></script>
    <script>
        const API_URL = window.location.protocol === 'https:'
        ? 'https://rm-kh-book-list.herokuapp.com/api/v1'
        : 'http://localhost:3000/api/v1';
        
        window.module = {};
        </script>
        <script src="scripts/models/book.js"></script>
        <script src="scripts/models/user.js"></script>
        <script src="scripts/views/book-view.js"></script>
        <script src="scripts/views/login-view.js"></script>
        <script src="scripts/app.js"></script>
</body>
</html>